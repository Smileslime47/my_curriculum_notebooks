[输入输出系统](../操作系统原理.md)
# 中断机构和中断处理程序
<!-- TOC -->

- [中断机构和中断处理程序](#中断机构和中断处理程序)
  - [中断概述](#中断概述)
    - [中断和陷入](#中断和陷入)
    - [中断向量表和中断优先级](#中断向量表和中断优先级)
    - [对多中断源的处理方式](#对多中断源的处理方式)
  - [中断处理程序](#中断处理程序)

<!-- /TOC -->
---
## 中断概述
### 中断和陷入
* 中断：指CPU对IO设备发来的中断信号的一种相应，又称外中断
* 陷入：指CPU内部事件所引起的中断，又称内中断
    * 如程序出错、地址越界等

### 中断向量表和中断优先级
* 中断向量表：各种设备的中断处理程序的入口地址放在中断向量表的表项中，为每个中断请求分配一个中断号
* 中断优先级：不同中断源对服务要求的优先级不同

### 对多中断源的处理方式
* 屏蔽中断
    * 处理机对于任何新收到的中断请求都让其等待
* 嵌套中断
    * 优先响应高优先级的中断
    * 高优先级的中断可以抢占低优先级中断的处理机

---
## 中断处理程序
当一个进程请求IO操作时，该进程被挂起，直到IO设备完成IO操作后，设备控制器向CPU发送一个中断请求  
CPU响应后转向中断处理程序，中断处理程序执行相应处理，处理完后解除相应进程的阻塞状态

