[处理机调度和死锁](../操作系统原理.md)
# 死锁概述
<!-- TOC -->

- [死锁概述](#死锁概述)
  - [资源](#资源)
  - [定义和条件](#定义和条件)
    - [定义](#定义)
    - [发生条件](#发生条件)
    - [产生原因](#产生原因)
    - [处理方法](#处理方法)

<!-- /TOC -->
---
## 资源
* 可重用性资源和消耗性资源
* 可抢占资源和不可抢占资源

引起死锁的资源：需要**互斥访问，不可抢占**的资源——临界资源

解决：
|A|B|
|----|----|
|P(S1)|P(S2)|
|P(S2)|P(S1)|

A占用S1等待S2  
B占用S2等待S1  
二者同时死锁

|A|B|
|----|----|
|P(S1)|P(S1)|
|P(S2)|P(S2)|

A占用S1时B被阻塞，不会发生死锁

---
## 定义和条件
### 定义
在一组进程发生死锁时，这组进程中的每一个进程都在等待另一个进程占用的资源

### 发生条件
* 互斥条件
* 请求和保持
* 不可抢占
* 循环等待

### 产生原因
* 竞争不可抢占式资源
* 竞争可消耗性资源
* 进程推进顺序不当

### 处理方法
* 预防死锁
* 检测死锁
* 避免死锁
* 解除死锁