
# BIOS中断调用

---
## INT16H-键盘输入功能
<table>
    <tr>
        <td>AH</td>
        <td>功能</td>
        <td colspan=4>返回</td>
    </tr>
    <tr>
        <td>0</td>
        <td>从键盘读取一个字符</td>
        <td colspan=2>AL=字符码</td>
        <td colspan=2>AH=扫描码</td>
    </tr>
    <tr>
        <td rowspan=2>1</td>
        <td rowspan=2>读取键盘缓冲区字符</td>
        <td rowspan=2>ZF=0</td>
        <td>AL=字符码</td>
        <td rowspan=2>ZF=1</td>
        <td rowspan=2>N/A</td>
    </tr>
    <tr>
        <td>AH=扫描码</td>
    </tr>
    <tr>
        <td>2</td>
        <td>读取键盘状态字节</td>
        <td colspan=4>AL=键盘状态字节</td>
</table>

AH=1时：
* 若键盘缓冲区不为空
    * ZF<=0
    * 读取键盘缓冲区
* 若键盘缓冲区为空 
    * ZF<=1

---
## INT 10H-显示功能
|AH|功能|调用参数|返回参数|
|----|----|----|----|
|0|设置显示方式|AL=显示模式（0～13H）||
|1|设置光标类型|CH低四位=光标开始行<br>CL低四位=光标结束行||
|2|设置光标位置|BH=页号<br>DH/DL=行号/列号||
|3|读取光标位置|BH=页号|CH/CL=光标开始行/结束行<br>DH/DL=行号/列号|
|5|设置当前显示页|AL=页号||
|6|屏幕初始化/上卷|AH=上卷行数（AL=0时屏幕为空白）<br>BH=卷入行属性<br>CH/CL=左上角行号/列号<br>DH/DL=右上角行号/列号||
|7|屏幕初始化/下卷|AL=下卷行数（AL=0时屏幕为空白）<br>BH=卷入行属性<br>CH/CL=左上角行号/列号<br>DH/DL=右上角行号/列号||
|8|读取光标位置的属性和字符||AH/AL=属性/字符|
|9|在光标位置显示字符和属性|BH=显示页号<br>AL=字符<br>BL=属性<br>CX=字符重复次数||
|A|在光标位置仅显示字符|BH=显示页号<br>AL=字符<br>BL=属性<br>CX=字符重复次数||
|E|显示字符（光标前移）|AL=字符<br>BL=前景色|光标跟随字符移动|
|13|显示字符串|ES:BP=串地址；CX=串长<br>DH/DL=起始行/列号；BH=页号<br>AL=0；BL=属性<br>AL=1；BL=属性<br>AL=2<br>AL=3|<br><br>光标返回起始位置<br>光标追随字符串移动<br>光标返回起始位置<br>光标追随字符串移动|

### 显示模式
文本模式在屏幕上显示字符，字符的位置用行列表示
* 0～6H为CGA卡工作方式
    * 0～3是文本方式
    * 4～6是图形方式
* 7是MDA卡唯一工作方式